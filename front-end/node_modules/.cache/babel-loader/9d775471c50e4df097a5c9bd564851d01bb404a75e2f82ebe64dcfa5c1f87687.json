{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { h, ref, computed, watch, onBeforeUpdate, onUpdated, onBeforeUnmount, nextTick, getCurrentInstance } from 'vue';\nimport QField from '../field/QField.js';\nimport QIcon from '../icon/QIcon.js';\nimport QChip from '../chip/QChip.js';\nimport QItem from '../item/QItem.js';\nimport QItemSection from '../item/QItemSection.js';\nimport QItemLabel from '../item/QItemLabel.js';\nimport QMenu from '../menu/QMenu.js';\nimport QDialog from '../dialog/QDialog.js';\nimport useField, { useFieldState, useFieldProps, useFieldEmits, fieldValueIsFilled } from '../../composables/private/use-field.js';\nimport { useVirtualScroll, useVirtualScrollProps } from '../virtual-scroll/use-virtual-scroll.js';\nimport { useFormProps, useFormInputNameAttr } from '../../composables/private/use-form.js';\nimport useKeyComposition from '../../composables/private/use-key-composition.js';\nimport { createComponent } from '../../utils/private/create.js';\nimport { isDeepEqual } from '../../utils/is.js';\nimport { stop, prevent, stopAndPrevent } from '../../utils/event.js';\nimport { normalizeToInterval } from '../../utils/format.js';\nimport { shouldIgnoreKey, isKeyCode } from '../../utils/private/key-composition.js';\nimport { hMergeSlot } from '../../utils/private/render.js';\nconst validateNewValueMode = v => ['add', 'add-unique', 'toggle'].includes(v);\nconst reEscapeList = '.*+?^${}()|[]\\\\';\nconst fieldPropsList = Object.keys(useFieldProps);\nexport default createComponent({\n  name: 'QSelect',\n  inheritAttrs: false,\n  props: {\n    ...useVirtualScrollProps,\n    ...useFormProps,\n    ...useFieldProps,\n    modelValue: {\n      required: true\n    },\n    multiple: Boolean,\n    displayValue: [String, Number],\n    displayValueHtml: Boolean,\n    dropdownIcon: String,\n    options: {\n      type: Array,\n      default: () => []\n    },\n    optionValue: [Function, String],\n    optionLabel: [Function, String],\n    optionDisable: [Function, String],\n    hideSelected: Boolean,\n    hideDropdownIcon: Boolean,\n    fillInput: Boolean,\n    maxValues: [Number, String],\n    optionsDense: Boolean,\n    optionsDark: {\n      type: Boolean,\n      default: null\n    },\n    optionsSelectedClass: String,\n    optionsHtml: Boolean,\n    optionsCover: Boolean,\n    menuShrink: Boolean,\n    menuAnchor: String,\n    menuSelf: String,\n    menuOffset: Array,\n    popupContentClass: String,\n    popupContentStyle: [String, Array, Object],\n    useInput: Boolean,\n    useChips: Boolean,\n    newValueMode: {\n      type: String,\n      validator: validateNewValueMode\n    },\n    mapOptions: Boolean,\n    emitValue: Boolean,\n    inputDebounce: {\n      type: [Number, String],\n      default: 500\n    },\n    inputClass: [Array, String, Object],\n    inputStyle: [Array, String, Object],\n    tabindex: {\n      type: [String, Number],\n      default: 0\n    },\n    autocomplete: String,\n    transitionShow: String,\n    transitionHide: String,\n    transitionDuration: [String, Number],\n    behavior: {\n      type: String,\n      validator: v => ['default', 'menu', 'dialog'].includes(v),\n      default: 'default'\n    },\n    virtualScrollItemSize: {\n      type: [Number, String],\n      default: void 0\n    },\n    onNewValue: Function,\n    onFilter: Function\n  },\n  emits: [...useFieldEmits, 'add', 'remove', 'inputValue', 'newValue', 'keyup', 'keypress', 'keydown', 'filterAbort'],\n  setup(props, {\n    slots,\n    emit\n  }) {\n    const {\n      proxy\n    } = getCurrentInstance();\n    const {\n      $q\n    } = proxy;\n    const menu = ref(false);\n    const dialog = ref(false);\n    const optionIndex = ref(-1);\n    const inputValue = ref('');\n    const dialogFieldFocused = ref(false);\n    const innerLoadingIndicator = ref(false);\n    let inputTimer, innerValueCache, hasDialog, userInputValue, filterId, defaultInputValue, transitionShowComputed, searchBuffer, searchBufferExp;\n    const inputRef = ref(null);\n    const targetRef = ref(null);\n    const menuRef = ref(null);\n    const dialogRef = ref(null);\n    const menuContentRef = ref(null);\n    const nameProp = useFormInputNameAttr(props);\n    const onComposition = useKeyComposition(onInput);\n    const virtualScrollLength = computed(() => Array.isArray(props.options) ? props.options.length : 0);\n    const virtualScrollItemSizeComputed = computed(() => props.virtualScrollItemSize === void 0 ? props.optionsDense === true ? 24 : 48 : props.virtualScrollItemSize);\n    const {\n      virtualScrollSliceRange,\n      virtualScrollSliceSizeComputed,\n      localResetVirtualScroll,\n      padVirtualScroll,\n      onVirtualScrollEvt,\n      scrollTo,\n      setVirtualScrollSize\n    } = useVirtualScroll({\n      virtualScrollLength,\n      getVirtualScrollTarget,\n      getVirtualScrollEl,\n      virtualScrollItemSizeComputed\n    });\n    const state = useFieldState();\n    const innerValue = computed(() => {\n      const mapNull = props.mapOptions === true && props.multiple !== true,\n        val = props.modelValue !== void 0 && (props.modelValue !== null || mapNull === true) ? props.multiple === true && Array.isArray(props.modelValue) ? props.modelValue : [props.modelValue] : [];\n      if (props.mapOptions === true && Array.isArray(props.options) === true) {\n        const cache = props.mapOptions === true && innerValueCache !== void 0 ? innerValueCache : [];\n        const values = val.map(v => getOption(v, cache));\n        return props.modelValue === null && mapNull === true ? values.filter(v => v !== null) : values;\n      }\n      return val;\n    });\n    const innerFieldProps = computed(() => {\n      const acc = {};\n      fieldPropsList.forEach(key => {\n        const val = props[key];\n        if (val !== void 0) {\n          acc[key] = val;\n        }\n      });\n      return acc;\n    });\n    const isOptionsDark = computed(() => props.optionsDark === null ? state.isDark.value : props.optionsDark);\n    const hasValue = computed(() => fieldValueIsFilled(innerValue.value));\n    const computedInputClass = computed(() => {\n      let cls = 'q-field__input q-placeholder col';\n      if (props.hideSelected === true || innerValue.value.length === 0) {\n        return [cls, props.inputClass];\n      }\n      cls += ' q-field__input--padding';\n      return props.inputClass === void 0 ? cls : [cls, props.inputClass];\n    });\n    const menuContentClass = computed(() => (props.virtualScrollHorizontal === true ? 'q-virtual-scroll--horizontal' : '') + (props.popupContentClass ? ' ' + props.popupContentClass : ''));\n    const noOptions = computed(() => virtualScrollLength.value === 0);\n    const selectedString = computed(() => innerValue.value.map(opt => getOptionLabel.value(opt)).join(', '));\n    const needsHtmlFn = computed(() => props.optionsHtml === true ? () => true : opt => opt !== void 0 && opt !== null && opt.html === true);\n    const valueAsHtml = computed(() => props.displayValueHtml === true || props.displayValue === void 0 && (props.optionsHtml === true || innerValue.value.some(needsHtmlFn.value)));\n    const tabindex = computed(() => state.focused.value === true ? props.tabindex : -1);\n    const comboboxAttrs = computed(() => ({\n      tabindex: props.tabindex,\n      role: 'combobox',\n      'aria-label': props.label,\n      'aria-readonly': props.readonly === true ? 'true' : 'false',\n      'aria-autocomplete': props.useInput === true ? 'list' : 'none',\n      'aria-expanded': menu.value === true ? 'true' : 'false',\n      'aria-owns': `${state.targetUid.value}_lb`,\n      'aria-controls': `${state.targetUid.value}_lb`\n    }));\n    const listboxAttrs = computed(() => {\n      const attrs = {\n        id: `${state.targetUid.value}_lb`,\n        role: 'listbox',\n        'aria-multiselectable': props.multiple === true ? 'true' : 'false'\n      };\n      if (optionIndex.value >= 0) {\n        attrs['aria-activedescendant'] = `${state.targetUid.value}_${optionIndex.value}`;\n      }\n      return attrs;\n    });\n    const selectedScope = computed(() => {\n      return innerValue.value.map((opt, i) => ({\n        index: i,\n        opt,\n        html: needsHtmlFn.value(opt),\n        selected: true,\n        removeAtIndex: removeAtIndexAndFocus,\n        toggleOption,\n        tabindex: tabindex.value\n      }));\n    });\n    const optionScope = computed(() => {\n      if (virtualScrollLength.value === 0) {\n        return [];\n      }\n      const {\n        from,\n        to\n      } = virtualScrollSliceRange.value;\n      return props.options.slice(from, to).map((opt, i) => {\n        const disable = isOptionDisabled.value(opt) === true;\n        const index = from + i;\n        const itemProps = {\n          clickable: true,\n          active: false,\n          activeClass: computedOptionsSelectedClass.value,\n          manualFocus: true,\n          focused: false,\n          disable,\n          tabindex: -1,\n          dense: props.optionsDense,\n          dark: isOptionsDark.value,\n          role: 'option',\n          id: `${state.targetUid.value}_${index}`,\n          onClick: () => {\n            toggleOption(opt);\n          }\n        };\n        if (disable !== true) {\n          isOptionSelected(opt) === true && (itemProps.active = true);\n          optionIndex.value === index && (itemProps.focused = true);\n          itemProps['aria-selected'] = itemProps.active === true ? 'true' : 'false';\n          if ($q.platform.is.desktop === true) {\n            itemProps.onMousemove = () => {\n              menu.value === true && setOptionIndex(index);\n            };\n          }\n        }\n        return {\n          index,\n          opt,\n          html: needsHtmlFn.value(opt),\n          label: getOptionLabel.value(opt),\n          selected: itemProps.active,\n          focused: itemProps.focused,\n          toggleOption,\n          setOptionIndex,\n          itemProps\n        };\n      });\n    });\n    const dropdownArrowIcon = computed(() => props.dropdownIcon !== void 0 ? props.dropdownIcon : $q.iconSet.arrow.dropdown);\n    const squaredMenu = computed(() => props.optionsCover === false && props.outlined !== true && props.standout !== true && props.borderless !== true && props.rounded !== true);\n    const computedOptionsSelectedClass = computed(() => props.optionsSelectedClass !== void 0 ? props.optionsSelectedClass : props.color !== void 0 ? `text-${props.color}` : '');\n\n    // returns method to get value of an option;\n    // takes into account 'option-value' prop\n    const getOptionValue = computed(() => getPropValueFn(props.optionValue, 'value'));\n\n    // returns method to get label of an option;\n    // takes into account 'option-label' prop\n    const getOptionLabel = computed(() => getPropValueFn(props.optionLabel, 'label'));\n\n    // returns method to tell if an option is disabled;\n    // takes into account 'option-disable' prop\n    const isOptionDisabled = computed(() => getPropValueFn(props.optionDisable, 'disable'));\n    const innerOptionsValue = computed(() => innerValue.value.map(opt => getOptionValue.value(opt)));\n    const inputControlEvents = computed(() => {\n      const evt = {\n        onInput,\n        // Safari < 10.2 & UIWebView doesn't fire compositionend when\n        // switching focus before confirming composition choice\n        // this also fixes the issue where some browsers e.g. iOS Chrome\n        // fires \"change\" instead of \"input\" on autocomplete.\n        onChange: onComposition,\n        onKeydown: onTargetKeydown,\n        onKeyup: onTargetAutocomplete,\n        onKeypress: onTargetKeypress,\n        onFocus: selectInputText,\n        onClick(e) {\n          hasDialog === true && stop(e);\n        }\n      };\n      evt.onCompositionstart = evt.onCompositionupdate = evt.onCompositionend = onComposition;\n      return evt;\n    });\n    watch(innerValue, val => {\n      innerValueCache = val;\n      if (props.useInput === true && props.fillInput === true && props.multiple !== true\n      // Prevent re-entering in filter while filtering\n      // Also prevent clearing inputValue while filtering\n      && state.innerLoading.value !== true && (dialog.value !== true && menu.value !== true || hasValue.value !== true)) {\n        userInputValue !== true && resetInputValue();\n        if (dialog.value === true || menu.value === true) {\n          filter('');\n        }\n      }\n    }, {\n      immediate: true\n    });\n    watch(() => props.fillInput, resetInputValue);\n    watch(menu, updateMenu);\n    watch(virtualScrollLength, rerenderMenu);\n    function getEmittingOptionValue(opt) {\n      return props.emitValue === true ? getOptionValue.value(opt) : opt;\n    }\n    function removeAtIndex(index) {\n      if (index > -1 && index < innerValue.value.length) {\n        if (props.multiple === true) {\n          const model = props.modelValue.slice();\n          emit('remove', {\n            index,\n            value: model.splice(index, 1)[0]\n          });\n          emit('update:modelValue', model);\n        } else {\n          emit('update:modelValue', null);\n        }\n      }\n    }\n    function removeAtIndexAndFocus(index) {\n      removeAtIndex(index);\n      state.focus();\n    }\n    function add(opt, unique) {\n      const val = getEmittingOptionValue(opt);\n      if (props.multiple !== true) {\n        props.fillInput === true && updateInputValue(getOptionLabel.value(opt), true, true);\n        emit('update:modelValue', val);\n        return;\n      }\n      if (innerValue.value.length === 0) {\n        emit('add', {\n          index: 0,\n          value: val\n        });\n        emit('update:modelValue', props.multiple === true ? [val] : val);\n        return;\n      }\n      if (unique === true && isOptionSelected(opt) === true) {\n        return;\n      }\n      if (props.maxValues !== void 0 && props.modelValue.length >= props.maxValues) {\n        return;\n      }\n      const model = props.modelValue.slice();\n      emit('add', {\n        index: model.length,\n        value: val\n      });\n      model.push(val);\n      emit('update:modelValue', model);\n    }\n    function toggleOption(opt, keepOpen) {\n      if (state.editable.value !== true || opt === void 0 || isOptionDisabled.value(opt) === true) {\n        return;\n      }\n      const optValue = getOptionValue.value(opt);\n      if (props.multiple !== true) {\n        if (keepOpen !== true) {\n          updateInputValue(props.fillInput === true ? getOptionLabel.value(opt) : '', true, true);\n          hidePopup();\n        }\n        targetRef.value !== null && targetRef.value.focus();\n        if (innerValue.value.length === 0 || isDeepEqual(getOptionValue.value(innerValue.value[0]), optValue) !== true) {\n          emit('update:modelValue', props.emitValue === true ? optValue : opt);\n        }\n        return;\n      }\n      (hasDialog !== true || dialogFieldFocused.value === true) && state.focus();\n      selectInputText();\n      if (innerValue.value.length === 0) {\n        const val = props.emitValue === true ? optValue : opt;\n        emit('add', {\n          index: 0,\n          value: val\n        });\n        emit('update:modelValue', props.multiple === true ? [val] : val);\n        return;\n      }\n      const model = props.modelValue.slice(),\n        index = innerOptionsValue.value.findIndex(v => isDeepEqual(v, optValue));\n      if (index > -1) {\n        emit('remove', {\n          index,\n          value: model.splice(index, 1)[0]\n        });\n      } else {\n        if (props.maxValues !== void 0 && model.length >= props.maxValues) {\n          return;\n        }\n        const val = props.emitValue === true ? optValue : opt;\n        emit('add', {\n          index: model.length,\n          value: val\n        });\n        model.push(val);\n      }\n      emit('update:modelValue', model);\n    }\n    function setOptionIndex(index) {\n      if ($q.platform.is.desktop !== true) {\n        return;\n      }\n      const val = index > -1 && index < virtualScrollLength.value ? index : -1;\n      if (optionIndex.value !== val) {\n        optionIndex.value = val;\n      }\n    }\n    function moveOptionSelection(offset = 1, skipInputValue) {\n      if (menu.value === true) {\n        let index = optionIndex.value;\n        do {\n          index = normalizeToInterval(index + offset, -1, virtualScrollLength.value - 1);\n        } while (index !== -1 && index !== optionIndex.value && isOptionDisabled.value(props.options[index]) === true);\n        if (optionIndex.value !== index) {\n          setOptionIndex(index);\n          scrollTo(index);\n          if (skipInputValue !== true && props.useInput === true && props.fillInput === true) {\n            setInputValue(index >= 0 ? getOptionLabel.value(props.options[index]) : defaultInputValue);\n          }\n        }\n      }\n    }\n    function getOption(value, valueCache) {\n      const fn = opt => isDeepEqual(getOptionValue.value(opt), value);\n      return props.options.find(fn) || valueCache.find(fn) || value;\n    }\n    function getPropValueFn(propValue, defaultVal) {\n      const val = propValue !== void 0 ? propValue : defaultVal;\n      return typeof val === 'function' ? val : opt => opt !== null && typeof opt === 'object' && val in opt ? opt[val] : opt;\n    }\n    function isOptionSelected(opt) {\n      const val = getOptionValue.value(opt);\n      return innerOptionsValue.value.find(v => isDeepEqual(v, val)) !== void 0;\n    }\n    function selectInputText(e) {\n      if (props.useInput === true && targetRef.value !== null && (e === void 0 || targetRef.value === e.target && e.target.value === selectedString.value)) {\n        targetRef.value.select();\n      }\n    }\n    function onTargetKeyup(e) {\n      // if ESC and we have an opened menu\n      // then stop propagation (might be caught by a QDialog\n      // and so it will also close the QDialog, which is wrong)\n      if (isKeyCode(e, 27) === true && menu.value === true) {\n        stop(e);\n        // on ESC we need to close the dialog also\n        hidePopup();\n        resetInputValue();\n      }\n      emit('keyup', e);\n    }\n    function onTargetAutocomplete(e) {\n      const {\n        value\n      } = e.target;\n      if (e.keyCode !== void 0) {\n        onTargetKeyup(e);\n        return;\n      }\n      e.target.value = '';\n      clearTimeout(inputTimer);\n      resetInputValue();\n      if (typeof value === 'string' && value.length > 0) {\n        const needle = value.toLocaleLowerCase();\n        const findFn = extractFn => {\n          const option = props.options.find(opt => extractFn.value(opt).toLocaleLowerCase() === needle);\n          if (option === void 0) {\n            return false;\n          }\n          if (innerValue.value.indexOf(option) === -1) {\n            toggleOption(option);\n          } else {\n            hidePopup();\n          }\n          return true;\n        };\n        const fillFn = afterFilter => {\n          if (findFn(getOptionValue) === true) {\n            return;\n          }\n          if (findFn(getOptionLabel) === true || afterFilter === true) {\n            return;\n          }\n          filter(value, true, () => fillFn(true));\n        };\n        fillFn();\n      } else {\n        state.clearValue(e);\n      }\n    }\n    function onTargetKeypress(e) {\n      emit('keypress', e);\n    }\n    function onTargetKeydown(e) {\n      emit('keydown', e);\n      if (shouldIgnoreKey(e) === true) {\n        return;\n      }\n      const newValueModeValid = inputValue.value.length > 0 && (props.newValueMode !== void 0 || props.onNewValue !== void 0);\n      const tabShouldSelect = e.shiftKey !== true && props.multiple !== true && (optionIndex.value > -1 || newValueModeValid === true);\n\n      // escape\n      if (e.keyCode === 27) {\n        prevent(e); // prevent clearing the inputValue\n        return;\n      }\n\n      // tab\n      if (e.keyCode === 9 && tabShouldSelect === false) {\n        closeMenu();\n        return;\n      }\n      if (e.target === void 0 || e.target.id !== state.targetUid.value) {\n        return;\n      }\n\n      // down\n      if (e.keyCode === 40 && state.innerLoading.value !== true && menu.value === false) {\n        stopAndPrevent(e);\n        showPopup();\n        return;\n      }\n\n      // backspace\n      if (e.keyCode === 8 && props.hideSelected !== true && inputValue.value.length === 0) {\n        if (props.multiple === true && Array.isArray(props.modelValue) === true) {\n          removeAtIndex(props.modelValue.length - 1);\n        } else if (props.multiple !== true && props.modelValue !== null) {\n          emit('update:modelValue', null);\n        }\n        return;\n      }\n\n      // home, end - 36, 35\n      if ((e.keyCode === 35 || e.keyCode === 36) && (typeof inputValue.value !== 'string' || inputValue.value.length === 0)) {\n        stopAndPrevent(e);\n        optionIndex.value = -1;\n        moveOptionSelection(e.keyCode === 36 ? 1 : -1, props.multiple);\n      }\n\n      // pg up, pg down - 33, 34\n      if ((e.keyCode === 33 || e.keyCode === 34) && virtualScrollSliceSizeComputed.value !== void 0) {\n        stopAndPrevent(e);\n        optionIndex.value = Math.max(-1, Math.min(virtualScrollLength.value, optionIndex.value + (e.keyCode === 33 ? -1 : 1) * virtualScrollSliceSizeComputed.value.view));\n        moveOptionSelection(e.keyCode === 33 ? 1 : -1, props.multiple);\n      }\n\n      // up, down\n      if (e.keyCode === 38 || e.keyCode === 40) {\n        stopAndPrevent(e);\n        moveOptionSelection(e.keyCode === 38 ? -1 : 1, props.multiple);\n      }\n      const optionsLength = virtualScrollLength.value;\n\n      // clear search buffer if expired\n      if (searchBuffer === void 0 || searchBufferExp < Date.now()) {\n        searchBuffer = '';\n      }\n\n      // keyboard search when not having use-input\n      if (optionsLength > 0 && props.useInput !== true && e.key !== void 0 && e.key.length === 1 // printable char\n      && e.altKey === e.ctrlKey // not kbd shortcut\n      && (e.keyCode !== 32 || searchBuffer.length > 0) // space in middle of search\n      ) {\n        menu.value !== true && showPopup(e);\n        const char = e.key.toLocaleLowerCase(),\n          keyRepeat = searchBuffer.length === 1 && searchBuffer[0] === char;\n        searchBufferExp = Date.now() + 1500;\n        if (keyRepeat === false) {\n          stopAndPrevent(e);\n          searchBuffer += char;\n        }\n        const searchRe = new RegExp('^' + searchBuffer.split('').map(l => reEscapeList.indexOf(l) > -1 ? '\\\\' + l : l).join('.*'), 'i');\n        let index = optionIndex.value;\n        if (keyRepeat === true || index < 0 || searchRe.test(getOptionLabel.value(props.options[index])) !== true) {\n          do {\n            index = normalizeToInterval(index + 1, -1, optionsLength - 1);\n          } while (index !== optionIndex.value && (isOptionDisabled.value(props.options[index]) === true || searchRe.test(getOptionLabel.value(props.options[index])) !== true));\n        }\n        if (optionIndex.value !== index) {\n          nextTick(() => {\n            setOptionIndex(index);\n            scrollTo(index);\n            if (index >= 0 && props.useInput === true && props.fillInput === true) {\n              setInputValue(getOptionLabel.value(props.options[index]));\n            }\n          });\n        }\n        return;\n      }\n\n      // enter, space (when not using use-input and not in search), or tab (when not using multiple and option selected)\n      // same target is checked above\n      if (e.keyCode !== 13 && (e.keyCode !== 32 || props.useInput === true || searchBuffer !== '') && (e.keyCode !== 9 || tabShouldSelect === false)) {\n        return;\n      }\n      e.keyCode !== 9 && stopAndPrevent(e);\n      if (optionIndex.value > -1 && optionIndex.value < optionsLength) {\n        toggleOption(props.options[optionIndex.value]);\n        return;\n      }\n      if (newValueModeValid === true) {\n        const done = (val, mode) => {\n          if (mode) {\n            if (validateNewValueMode(mode) !== true) {\n              return;\n            }\n          } else {\n            mode = props.newValueMode;\n          }\n          if (val === void 0 || val === null) {\n            return;\n          }\n          updateInputValue('', props.multiple !== true, true);\n          const fn = mode === 'toggle' ? toggleOption : add;\n          fn(val, mode === 'add-unique');\n          if (props.multiple !== true) {\n            targetRef.value !== null && targetRef.value.focus();\n            hidePopup();\n          }\n        };\n        if (props.onNewValue !== void 0) {\n          emit('newValue', inputValue.value, done);\n        } else {\n          done(inputValue.value);\n        }\n        if (props.multiple !== true) {\n          return;\n        }\n      }\n      if (menu.value === true) {\n        closeMenu();\n      } else if (state.innerLoading.value !== true) {\n        showPopup();\n      }\n    }\n    function getVirtualScrollEl() {\n      return hasDialog === true ? menuContentRef.value : menuRef.value !== null && menuRef.value.contentEl !== null ? menuRef.value.contentEl : void 0;\n    }\n    function getVirtualScrollTarget() {\n      return getVirtualScrollEl();\n    }\n    function getSelection() {\n      if (props.hideSelected === true) {\n        return [];\n      }\n      if (slots['selected-item'] !== void 0) {\n        return selectedScope.value.map(scope => slots['selected-item'](scope)).slice();\n      }\n      if (slots.selected !== void 0) {\n        return [].concat(slots.selected());\n      }\n      if (props.useChips === true) {\n        return selectedScope.value.map((scope, i) => h(QChip, {\n          key: 'option-' + i,\n          removable: state.editable.value === true && isOptionDisabled.value(scope.opt) !== true,\n          dense: true,\n          textColor: props.color,\n          tabindex: tabindex.value,\n          onRemove() {\n            scope.removeAtIndex(i);\n          }\n        }, () => h('span', {\n          class: 'ellipsis',\n          [scope.html === true ? 'innerHTML' : 'textContent']: getOptionLabel.value(scope.opt)\n        })));\n      }\n      return [h('span', {\n        [valueAsHtml.value === true ? 'innerHTML' : 'textContent']: props.displayValue !== void 0 ? props.displayValue : selectedString.value\n      })];\n    }\n    function getAllOptions() {\n      if (noOptions.value === true) {\n        return slots['no-option'] !== void 0 ? slots['no-option']({\n          inputValue: inputValue.value\n        }) : void 0;\n      }\n      const fn = slots.option !== void 0 ? slots.option : scope => {\n        return h(QItem, {\n          key: scope.index,\n          ...scope.itemProps\n        }, () => {\n          return h(QItemSection, () => h(QItemLabel, () => h('span', {\n            [scope.html === true ? 'innerHTML' : 'textContent']: scope.label\n          })));\n        });\n      };\n      let options = padVirtualScroll('div', optionScope.value.map(fn));\n      if (slots['before-options'] !== void 0) {\n        options = slots['before-options']().concat(options);\n      }\n      return hMergeSlot(slots['after-options'], options);\n    }\n    function getInput(fromDialog, isTarget) {\n      const attrs = isTarget === true ? {\n        ...comboboxAttrs.value,\n        ...state.splitAttrs.attributes.value\n      } : void 0;\n      const data = {\n        ref: isTarget === true ? targetRef : void 0,\n        key: 'i_t',\n        class: computedInputClass.value,\n        style: props.inputStyle,\n        value: inputValue.value !== void 0 ? inputValue.value : '',\n        // required for Android in order to show ENTER key when in form\n        type: 'search',\n        ...attrs,\n        id: isTarget === true ? state.targetUid.value : void 0,\n        maxlength: props.maxlength,\n        autocomplete: props.autocomplete,\n        'data-autofocus': fromDialog !== true && props.autofocus === true || void 0,\n        disabled: props.disable === true,\n        readonly: props.readonly === true,\n        ...inputControlEvents.value\n      };\n      if (fromDialog !== true && hasDialog === true) {\n        if (Array.isArray(data.class) === true) {\n          data.class = [...data.class, 'no-pointer-events'];\n        } else {\n          data.class += ' no-pointer-events';\n        }\n      }\n      return h('input', data);\n    }\n    function onInput(e) {\n      clearTimeout(inputTimer);\n      if (e && e.target && e.target.qComposing === true) {\n        return;\n      }\n      setInputValue(e.target.value || '');\n      // mark it here as user input so that if updateInputValue is called\n      // before filter is called the indicator is reset\n      userInputValue = true;\n      defaultInputValue = inputValue.value;\n      if (state.focused.value !== true && (hasDialog !== true || dialogFieldFocused.value === true)) {\n        state.focus();\n      }\n      if (props.onFilter !== void 0) {\n        inputTimer = setTimeout(() => {\n          filter(inputValue.value);\n        }, props.inputDebounce);\n      }\n    }\n    function setInputValue(val) {\n      if (inputValue.value !== val) {\n        inputValue.value = val;\n        emit('inputValue', val);\n      }\n    }\n    function updateInputValue(val, noFiltering, internal) {\n      userInputValue = internal !== true;\n      if (props.useInput === true) {\n        setInputValue(val);\n        if (noFiltering === true || internal !== true) {\n          defaultInputValue = val;\n        }\n        noFiltering !== true && filter(val);\n      }\n    }\n    function filter(val, keepClosed, afterUpdateFn) {\n      if (props.onFilter === void 0 || keepClosed !== true && state.focused.value !== true) {\n        return;\n      }\n      if (state.innerLoading.value === true) {\n        emit('filterAbort');\n      } else {\n        state.innerLoading.value = true;\n        innerLoadingIndicator.value = true;\n      }\n      if (val !== '' && props.multiple !== true && innerValue.value.length > 0 && userInputValue !== true && val === getOptionLabel.value(innerValue.value[0])) {\n        val = '';\n      }\n      const localFilterId = setTimeout(() => {\n        menu.value === true && (menu.value = false);\n      }, 10);\n      clearTimeout(filterId);\n      filterId = localFilterId;\n      emit('filter', val, (fn, afterFn) => {\n        if ((keepClosed === true || state.focused.value === true) && filterId === localFilterId) {\n          clearTimeout(filterId);\n          typeof fn === 'function' && fn();\n\n          // hide indicator to allow arrow to animate\n          innerLoadingIndicator.value = false;\n          nextTick(() => {\n            state.innerLoading.value = false;\n            if (state.editable.value === true) {\n              if (keepClosed === true) {\n                menu.value === true && hidePopup();\n              } else if (menu.value === true) {\n                updateMenu(true);\n              } else {\n                menu.value = true;\n              }\n            }\n            typeof afterFn === 'function' && nextTick(() => {\n              afterFn(proxy);\n            });\n            typeof afterUpdateFn === 'function' && nextTick(() => {\n              afterUpdateFn(proxy);\n            });\n          });\n        }\n      }, () => {\n        if (state.focused.value === true && filterId === localFilterId) {\n          clearTimeout(filterId);\n          state.innerLoading.value = false;\n          innerLoadingIndicator.value = false;\n        }\n        menu.value === true && (menu.value = false);\n      });\n    }\n    function getMenu() {\n      return h(QMenu, {\n        ref: menuRef,\n        class: menuContentClass.value,\n        style: props.popupContentStyle,\n        modelValue: menu.value,\n        fit: props.menuShrink !== true,\n        cover: props.optionsCover === true && noOptions.value !== true && props.useInput !== true,\n        anchor: props.menuAnchor,\n        self: props.menuSelf,\n        offset: props.menuOffset,\n        dark: isOptionsDark.value,\n        noParentEvent: true,\n        noRefocus: true,\n        noFocus: true,\n        square: squaredMenu.value,\n        transitionShow: props.transitionShow,\n        transitionHide: props.transitionHide,\n        transitionDuration: props.transitionDuration,\n        separateClosePopup: true,\n        ...listboxAttrs.value,\n        onScrollPassive: onVirtualScrollEvt,\n        onBeforeShow: onControlPopupShow,\n        onBeforeHide: onMenuBeforeHide,\n        onShow: onMenuShow\n      }, getAllOptions);\n    }\n    function onMenuBeforeHide(e) {\n      onControlPopupHide(e);\n      closeMenu();\n    }\n    function onMenuShow() {\n      setVirtualScrollSize();\n    }\n    function onDialogFieldFocus(e) {\n      stop(e);\n      targetRef.value !== null && targetRef.value.focus();\n      dialogFieldFocused.value = true;\n      window.scrollTo(window.pageXOffset || window.scrollX || document.body.scrollLeft || 0, 0);\n    }\n    function onDialogFieldBlur(e) {\n      stop(e);\n      nextTick(() => {\n        dialogFieldFocused.value = false;\n      });\n    }\n    function getDialog() {\n      const content = [h(QField, {\n        class: `col-auto ${state.fieldClass.value}`,\n        ...innerFieldProps.value,\n        for: state.targetUid.value,\n        dark: isOptionsDark.value,\n        square: true,\n        loading: innerLoadingIndicator.value,\n        itemAligned: false,\n        filled: true,\n        stackLabel: inputValue.value.length > 0,\n        ...state.splitAttrs.listeners.value,\n        onFocus: onDialogFieldFocus,\n        onBlur: onDialogFieldBlur\n      }, {\n        ...slots,\n        rawControl: () => state.getControl(true),\n        before: void 0,\n        after: void 0\n      })];\n      menu.value === true && content.push(h('div', {\n        ref: menuContentRef,\n        class: menuContentClass.value + ' scroll',\n        style: props.popupContentStyle,\n        ...listboxAttrs.value,\n        onClick: prevent,\n        onScrollPassive: onVirtualScrollEvt\n      }, getAllOptions()));\n      return h(QDialog, {\n        ref: dialogRef,\n        modelValue: dialog.value,\n        position: props.useInput === true ? 'top' : void 0,\n        transitionShow: transitionShowComputed,\n        transitionHide: props.transitionHide,\n        transitionDuration: props.transitionDuration,\n        onBeforeShow: onControlPopupShow,\n        onBeforeHide: onDialogBeforeHide,\n        onHide: onDialogHide,\n        onShow: onDialogShow\n      }, () => h('div', {\n        class: 'q-select__dialog' + (isOptionsDark.value === true ? ' q-select__dialog--dark q-dark' : '') + (dialogFieldFocused.value === true ? ' q-select__dialog--focused' : '')\n      }, content));\n    }\n    function onDialogBeforeHide(e) {\n      onControlPopupHide(e);\n      if (dialogRef.value !== null) {\n        dialogRef.value.__updateRefocusTarget(state.rootRef.value.querySelector('.q-field__native > [tabindex]:last-child'));\n      }\n      state.focused.value = false;\n    }\n    function onDialogHide(e) {\n      hidePopup();\n      state.focused.value === false && emit('blur', e);\n      resetInputValue();\n    }\n    function onDialogShow() {\n      const el = document.activeElement;\n      if ((el === null || el.id !== state.targetUid.value) && targetRef.value !== null && targetRef.value !== el) {\n        targetRef.value.focus();\n      }\n      setVirtualScrollSize();\n    }\n    function closeMenu() {\n      if (dialog.value === true) {\n        return;\n      }\n      optionIndex.value = -1;\n      if (menu.value === true) {\n        menu.value = false;\n      }\n      if (state.focused.value === false) {\n        clearTimeout(filterId);\n        filterId = void 0;\n        if (state.innerLoading.value === true) {\n          emit('filterAbort');\n          state.innerLoading.value = false;\n          innerLoadingIndicator.value = false;\n        }\n      }\n    }\n    function showPopup(e) {\n      if (state.editable.value !== true) {\n        return;\n      }\n      if (hasDialog === true) {\n        state.onControlFocusin(e);\n        dialog.value = true;\n        nextTick(() => {\n          state.focus();\n        });\n      } else {\n        state.focus();\n      }\n      if (props.onFilter !== void 0) {\n        filter(inputValue.value);\n      } else if (noOptions.value !== true || slots['no-option'] !== void 0) {\n        menu.value = true;\n      }\n    }\n    function hidePopup() {\n      dialog.value = false;\n      closeMenu();\n    }\n    function resetInputValue() {\n      props.useInput === true && updateInputValue(props.multiple !== true && props.fillInput === true && innerValue.value.length > 0 ? getOptionLabel.value(innerValue.value[0]) || '' : '', true, true);\n    }\n    function updateMenu(show) {\n      let optionIndex = -1;\n      if (show === true) {\n        if (innerValue.value.length > 0) {\n          const val = getOptionValue.value(innerValue.value[0]);\n          optionIndex = props.options.findIndex(v => isDeepEqual(getOptionValue.value(v), val));\n        }\n        localResetVirtualScroll(optionIndex);\n      }\n      setOptionIndex(optionIndex);\n    }\n    function rerenderMenu(newLength, oldLength) {\n      if (menu.value === true && state.innerLoading.value === false) {\n        localResetVirtualScroll(-1, true);\n        nextTick(() => {\n          if (menu.value === true && state.innerLoading.value === false) {\n            if (newLength > oldLength) {\n              localResetVirtualScroll();\n            } else {\n              updateMenu(true);\n            }\n          }\n        });\n      }\n    }\n    function updateMenuPosition() {\n      if (dialog.value === false && menuRef.value !== null) {\n        menuRef.value.updatePosition();\n      }\n    }\n    function onControlPopupShow(e) {\n      e !== void 0 && stop(e);\n      emit('popupShow', e);\n      state.hasPopupOpen = true;\n      state.onControlFocusin(e);\n    }\n    function onControlPopupHide(e) {\n      e !== void 0 && stop(e);\n      emit('popupHide', e);\n      state.hasPopupOpen = false;\n      state.onControlFocusout(e);\n    }\n    function updatePreState() {\n      hasDialog = $q.platform.is.mobile !== true && props.behavior !== 'dialog' ? false : props.behavior !== 'menu' && (props.useInput === true ? slots['no-option'] !== void 0 || props.onFilter !== void 0 || noOptions.value === false : true);\n      transitionShowComputed = $q.platform.is.ios === true && hasDialog === true && props.useInput === true ? 'fade' : props.transitionShow;\n    }\n    onBeforeUpdate(updatePreState);\n    onUpdated(updateMenuPosition);\n    updatePreState();\n    onBeforeUnmount(() => {\n      clearTimeout(inputTimer);\n    });\n\n    // expose public methods\n    Object.assign(proxy, {\n      showPopup,\n      hidePopup,\n      removeAtIndex,\n      add,\n      toggleOption,\n      getOptionIndex: () => optionIndex.value,\n      setOptionIndex,\n      moveOptionSelection,\n      filter,\n      updateMenuPosition,\n      updateInputValue,\n      isOptionSelected,\n      getEmittingOptionValue,\n      isOptionDisabled: (...args) => isOptionDisabled.value.apply(null, args) === true,\n      getOptionValue: (...args) => getOptionValue.value.apply(null, args),\n      getOptionLabel: (...args) => getOptionLabel.value.apply(null, args)\n    });\n    Object.assign(state, {\n      innerValue,\n      fieldClass: computed(() => `q-select q-field--auto-height q-select--with${props.useInput !== true ? 'out' : ''}-input` + ` q-select--with${props.useChips !== true ? 'out' : ''}-chips` + ` q-select--${props.multiple === true ? 'multiple' : 'single'}`),\n      inputRef,\n      targetRef,\n      hasValue,\n      showPopup,\n      floatingLabel: computed(() => props.hideSelected !== true && hasValue.value === true || typeof inputValue.value === 'number' || inputValue.value.length > 0 || fieldValueIsFilled(props.displayValue)),\n      getControlChild: () => {\n        if (state.editable.value !== false && (dialog.value === true // dialog always has menu displayed, so need to render it\n        || noOptions.value !== true || slots['no-option'] !== void 0)) {\n          return hasDialog === true ? getDialog() : getMenu();\n        } else if (state.hasPopupOpen === true) {\n          // explicitly set it otherwise TAB will not blur component\n          state.hasPopupOpen = false;\n        }\n      },\n      controlEvents: {\n        onFocusin(e) {\n          state.onControlFocusin(e);\n        },\n        onFocusout(e) {\n          state.onControlFocusout(e, () => {\n            resetInputValue();\n            closeMenu();\n          });\n        },\n        onClick(e) {\n          // label from QField will propagate click on the input\n          prevent(e);\n          if (hasDialog !== true && menu.value === true) {\n            closeMenu();\n            targetRef.value !== null && targetRef.value.focus();\n            return;\n          }\n          showPopup(e);\n        }\n      },\n      getControl: fromDialog => {\n        const child = getSelection();\n        const isTarget = fromDialog === true || dialog.value !== true || hasDialog !== true;\n        if (props.useInput === true) {\n          child.push(getInput(fromDialog, isTarget));\n        }\n        // there can be only one (when dialog is opened the control in dialog should be target)\n        else if (state.editable.value === true) {\n          const attrs = isTarget === true ? comboboxAttrs.value : void 0;\n          child.push(h('input', {\n            ref: isTarget === true ? targetRef : void 0,\n            key: 'd_t',\n            class: 'q-select__focus-target',\n            id: isTarget === true ? state.targetUid.value : void 0,\n            readonly: true,\n            'data-autofocus': fromDialog !== true && props.autofocus === true || void 0,\n            ...attrs,\n            onKeydown: onTargetKeydown,\n            onKeyup: onTargetKeyup,\n            onKeypress: onTargetKeypress\n          }));\n          if (isTarget === true && typeof props.autocomplete === 'string' && props.autocomplete.length > 0) {\n            child.push(h('input', {\n              class: 'q-select__autocomplete-input',\n              autocomplete: props.autocomplete,\n              tabindex: -1,\n              onKeyup: onTargetAutocomplete\n            }));\n          }\n        }\n        if (nameProp.value !== void 0 && props.disable !== true && innerOptionsValue.value.length > 0) {\n          const opts = innerOptionsValue.value.map(value => h('option', {\n            value,\n            selected: true\n          }));\n          child.push(h('select', {\n            class: 'hidden',\n            name: nameProp.value,\n            multiple: props.multiple\n          }, opts));\n        }\n        const attrs = props.useInput === true || isTarget !== true ? void 0 : state.splitAttrs.attributes.value;\n        return h('div', {\n          class: 'q-field__native row items-center',\n          ...attrs\n        }, child);\n      },\n      getInnerAppend: () => props.loading !== true && innerLoadingIndicator.value !== true && props.hideDropdownIcon !== true ? [h(QIcon, {\n        class: 'q-select__dropdown-icon' + (menu.value === true ? ' rotate-180' : ''),\n        name: dropdownArrowIcon.value\n      })] : null\n    });\n    return useField(state);\n  }\n});","map":{"version":3,"names":["h","ref","computed","watch","onBeforeUpdate","onUpdated","onBeforeUnmount","nextTick","getCurrentInstance","QField","QIcon","QChip","QItem","QItemSection","QItemLabel","QMenu","QDialog","useField","useFieldState","useFieldProps","useFieldEmits","fieldValueIsFilled","useVirtualScroll","useVirtualScrollProps","useFormProps","useFormInputNameAttr","useKeyComposition","createComponent","isDeepEqual","stop","prevent","stopAndPrevent","normalizeToInterval","shouldIgnoreKey","isKeyCode","hMergeSlot","validateNewValueMode","v","includes","reEscapeList","fieldPropsList","Object","keys","name","inheritAttrs","props","modelValue","required","multiple","Boolean","displayValue","String","Number","displayValueHtml","dropdownIcon","options","type","Array","default","optionValue","Function","optionLabel","optionDisable","hideSelected","hideDropdownIcon","fillInput","maxValues","optionsDense","optionsDark","optionsSelectedClass","optionsHtml","optionsCover","menuShrink","menuAnchor","menuSelf","menuOffset","popupContentClass","popupContentStyle","useInput","useChips","newValueMode","validator","mapOptions","emitValue","inputDebounce","inputClass","inputStyle","tabindex","autocomplete","transitionShow","transitionHide","transitionDuration","behavior","virtualScrollItemSize","onNewValue","onFilter","emits","setup","slots","emit","proxy","$q","menu","dialog","optionIndex","inputValue","dialogFieldFocused","innerLoadingIndicator","inputTimer","innerValueCache","hasDialog","userInputValue","filterId","defaultInputValue","transitionShowComputed","searchBuffer","searchBufferExp","inputRef","targetRef","menuRef","dialogRef","menuContentRef","nameProp","onComposition","onInput","virtualScrollLength","isArray","length","virtualScrollItemSizeComputed","virtualScrollSliceRange","virtualScrollSliceSizeComputed","localResetVirtualScroll","padVirtualScroll","onVirtualScrollEvt","scrollTo","setVirtualScrollSize","getVirtualScrollTarget","getVirtualScrollEl","state","innerValue","mapNull","val","cache","values","map","getOption","filter","innerFieldProps","acc","forEach","key","isOptionsDark","isDark","value","hasValue","computedInputClass","cls","menuContentClass","virtualScrollHorizontal","noOptions","selectedString","opt","getOptionLabel","join","needsHtmlFn","html","valueAsHtml","some","focused","comboboxAttrs","role","label","readonly","targetUid","listboxAttrs","attrs","id","selectedScope","i","index","selected","removeAtIndex","removeAtIndexAndFocus","toggleOption","optionScope","from","to","slice","disable","isOptionDisabled","itemProps","clickable","active","activeClass","computedOptionsSelectedClass","manualFocus","dense","dark","onClick","isOptionSelected","platform","is","desktop","onMousemove","setOptionIndex","dropdownArrowIcon","iconSet","arrow","dropdown","squaredMenu","outlined","standout","borderless","rounded","color","getOptionValue","getPropValueFn","innerOptionsValue","inputControlEvents","evt","onChange","onKeydown","onTargetKeydown","onKeyup","onTargetAutocomplete","onKeypress","onTargetKeypress","onFocus","selectInputText","e","onCompositionstart","onCompositionupdate","onCompositionend","innerLoading","resetInputValue","immediate","updateMenu","rerenderMenu","getEmittingOptionValue","model","splice","focus","add","unique","updateInputValue","push","keepOpen","editable","optValue","hidePopup","findIndex","moveOptionSelection","offset","skipInputValue","setInputValue","valueCache","fn","find","propValue","defaultVal","target","select","onTargetKeyup","keyCode","clearTimeout","needle","toLocaleLowerCase","findFn","extractFn","option","indexOf","fillFn","afterFilter","clearValue","newValueModeValid","tabShouldSelect","shiftKey","closeMenu","showPopup","Math","max","min","view","optionsLength","Date","now","altKey","ctrlKey","char","keyRepeat","searchRe","RegExp","split","l","test","done","mode","contentEl","getSelection","scope","concat","removable","textColor","onRemove","class","getAllOptions","getInput","fromDialog","isTarget","splitAttrs","attributes","data","style","maxlength","autofocus","disabled","qComposing","setTimeout","noFiltering","internal","keepClosed","afterUpdateFn","localFilterId","afterFn","getMenu","fit","cover","anchor","self","noParentEvent","noRefocus","noFocus","square","separateClosePopup","onScrollPassive","onBeforeShow","onControlPopupShow","onBeforeHide","onMenuBeforeHide","onShow","onMenuShow","onControlPopupHide","onDialogFieldFocus","window","pageXOffset","scrollX","document","body","scrollLeft","onDialogFieldBlur","getDialog","content","fieldClass","for","loading","itemAligned","filled","stackLabel","listeners","onBlur","rawControl","getControl","before","after","position","onDialogBeforeHide","onHide","onDialogHide","onDialogShow","__updateRefocusTarget","rootRef","querySelector","el","activeElement","onControlFocusin","show","newLength","oldLength","updateMenuPosition","updatePosition","hasPopupOpen","onControlFocusout","updatePreState","mobile","ios","assign","getOptionIndex","args","apply","floatingLabel","getControlChild","controlEvents","onFocusin","onFocusout","child","opts","getInnerAppend"],"sources":["C:/Users/raamb/Desktop/MedicalBilling/front-end/node_modules/quasar/src/components/select/QSelect.js"],"sourcesContent":["import { h, ref, computed, watch, onBeforeUpdate, onUpdated, onBeforeUnmount, nextTick, getCurrentInstance } from 'vue'\r\n\r\nimport QField from '../field/QField.js'\r\nimport QIcon from '../icon/QIcon.js'\r\nimport QChip from '../chip/QChip.js'\r\n\r\nimport QItem from '../item/QItem.js'\r\nimport QItemSection from '../item/QItemSection.js'\r\nimport QItemLabel from '../item/QItemLabel.js'\r\n\r\nimport QMenu from '../menu/QMenu.js'\r\nimport QDialog from '../dialog/QDialog.js'\r\n\r\nimport useField, { useFieldState, useFieldProps, useFieldEmits, fieldValueIsFilled } from '../../composables/private/use-field.js'\r\nimport { useVirtualScroll, useVirtualScrollProps } from '../virtual-scroll/use-virtual-scroll.js'\r\nimport { useFormProps, useFormInputNameAttr } from '../../composables/private/use-form.js'\r\nimport useKeyComposition from '../../composables/private/use-key-composition.js'\r\n\r\nimport { createComponent } from '../../utils/private/create.js'\r\nimport { isDeepEqual } from '../../utils/is.js'\r\nimport { stop, prevent, stopAndPrevent } from '../../utils/event.js'\r\nimport { normalizeToInterval } from '../../utils/format.js'\r\nimport { shouldIgnoreKey, isKeyCode } from '../../utils/private/key-composition.js'\r\nimport { hMergeSlot } from '../../utils/private/render.js'\r\n\r\nconst validateNewValueMode = v => [ 'add', 'add-unique', 'toggle' ].includes(v)\r\nconst reEscapeList = '.*+?^${}()|[]\\\\'\r\nconst fieldPropsList = Object.keys(useFieldProps)\r\n\r\nexport default createComponent({\r\n  name: 'QSelect',\r\n\r\n  inheritAttrs: false,\r\n\r\n  props: {\r\n    ...useVirtualScrollProps,\r\n    ...useFormProps,\r\n    ...useFieldProps,\r\n\r\n    modelValue: {\r\n      required: true\r\n    },\r\n\r\n    multiple: Boolean,\r\n\r\n    displayValue: [ String, Number ],\r\n    displayValueHtml: Boolean,\r\n    dropdownIcon: String,\r\n\r\n    options: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n\r\n    optionValue: [ Function, String ],\r\n    optionLabel: [ Function, String ],\r\n    optionDisable: [ Function, String ],\r\n\r\n    hideSelected: Boolean,\r\n    hideDropdownIcon: Boolean,\r\n    fillInput: Boolean,\r\n\r\n    maxValues: [ Number, String ],\r\n\r\n    optionsDense: Boolean,\r\n    optionsDark: {\r\n      type: Boolean,\r\n      default: null\r\n    },\r\n    optionsSelectedClass: String,\r\n    optionsHtml: Boolean,\r\n\r\n    optionsCover: Boolean,\r\n\r\n    menuShrink: Boolean,\r\n    menuAnchor: String,\r\n    menuSelf: String,\r\n    menuOffset: Array,\r\n\r\n    popupContentClass: String,\r\n    popupContentStyle: [ String, Array, Object ],\r\n\r\n    useInput: Boolean,\r\n    useChips: Boolean,\r\n\r\n    newValueMode: {\r\n      type: String,\r\n      validator: validateNewValueMode\r\n    },\r\n\r\n    mapOptions: Boolean,\r\n    emitValue: Boolean,\r\n\r\n    inputDebounce: {\r\n      type: [ Number, String ],\r\n      default: 500\r\n    },\r\n\r\n    inputClass: [ Array, String, Object ],\r\n    inputStyle: [ Array, String, Object ],\r\n\r\n    tabindex: {\r\n      type: [ String, Number ],\r\n      default: 0\r\n    },\r\n\r\n    autocomplete: String,\r\n\r\n    transitionShow: String,\r\n    transitionHide: String,\r\n    transitionDuration: [ String, Number ],\r\n\r\n    behavior: {\r\n      type: String,\r\n      validator: v => [ 'default', 'menu', 'dialog' ].includes(v),\r\n      default: 'default'\r\n    },\r\n\r\n    virtualScrollItemSize: {\r\n      type: [ Number, String ],\r\n      default: void 0\r\n    },\r\n\r\n    onNewValue: Function,\r\n    onFilter: Function\r\n  },\r\n\r\n  emits: [\r\n    ...useFieldEmits,\r\n    'add', 'remove', 'inputValue', 'newValue',\r\n    'keyup', 'keypress', 'keydown',\r\n    'filterAbort'\r\n  ],\r\n\r\n  setup (props, { slots, emit }) {\r\n    const { proxy } = getCurrentInstance()\r\n    const { $q } = proxy\r\n\r\n    const menu = ref(false)\r\n    const dialog = ref(false)\r\n    const optionIndex = ref(-1)\r\n    const inputValue = ref('')\r\n    const dialogFieldFocused = ref(false)\r\n    const innerLoadingIndicator = ref(false)\r\n\r\n    let inputTimer, innerValueCache,\r\n      hasDialog, userInputValue, filterId, defaultInputValue,\r\n      transitionShowComputed, searchBuffer, searchBufferExp\r\n\r\n    const inputRef = ref(null)\r\n    const targetRef = ref(null)\r\n    const menuRef = ref(null)\r\n    const dialogRef = ref(null)\r\n    const menuContentRef = ref(null)\r\n\r\n    const nameProp = useFormInputNameAttr(props)\r\n\r\n    const onComposition = useKeyComposition(onInput)\r\n\r\n    const virtualScrollLength = computed(() => (\r\n      Array.isArray(props.options)\r\n        ? props.options.length\r\n        : 0\r\n    ))\r\n\r\n    const virtualScrollItemSizeComputed = computed(() => (\r\n      props.virtualScrollItemSize === void 0\r\n        ? (props.optionsDense === true ? 24 : 48)\r\n        : props.virtualScrollItemSize\r\n    ))\r\n\r\n    const {\r\n      virtualScrollSliceRange,\r\n      virtualScrollSliceSizeComputed,\r\n      localResetVirtualScroll,\r\n      padVirtualScroll,\r\n      onVirtualScrollEvt,\r\n      scrollTo,\r\n      setVirtualScrollSize\r\n    } = useVirtualScroll({\r\n      virtualScrollLength, getVirtualScrollTarget, getVirtualScrollEl,\r\n      virtualScrollItemSizeComputed\r\n    })\r\n\r\n    const state = useFieldState()\r\n\r\n    const innerValue = computed(() => {\r\n      const\r\n        mapNull = props.mapOptions === true && props.multiple !== true,\r\n        val = props.modelValue !== void 0 && (props.modelValue !== null || mapNull === true)\r\n          ? (props.multiple === true && Array.isArray(props.modelValue) ? props.modelValue : [ props.modelValue ])\r\n          : []\r\n\r\n      if (props.mapOptions === true && Array.isArray(props.options) === true) {\r\n        const cache = props.mapOptions === true && innerValueCache !== void 0\r\n          ? innerValueCache\r\n          : []\r\n        const values = val.map(v => getOption(v, cache))\r\n\r\n        return props.modelValue === null && mapNull === true\r\n          ? values.filter(v => v !== null)\r\n          : values\r\n      }\r\n\r\n      return val\r\n    })\r\n\r\n    const innerFieldProps = computed(() => {\r\n      const acc = {}\r\n      fieldPropsList.forEach(key => {\r\n        const val = props[ key ]\r\n        if (val !== void 0) {\r\n          acc[ key ] = val\r\n        }\r\n      })\r\n      return acc\r\n    })\r\n\r\n    const isOptionsDark = computed(() => (\r\n      props.optionsDark === null\r\n        ? state.isDark.value\r\n        : props.optionsDark\r\n    ))\r\n\r\n    const hasValue = computed(() => fieldValueIsFilled(innerValue.value))\r\n\r\n    const computedInputClass = computed(() => {\r\n      let cls = 'q-field__input q-placeholder col'\r\n\r\n      if (props.hideSelected === true || innerValue.value.length === 0) {\r\n        return [ cls, props.inputClass ]\r\n      }\r\n\r\n      cls += ' q-field__input--padding'\r\n\r\n      return props.inputClass === void 0\r\n        ? cls\r\n        : [ cls, props.inputClass ]\r\n    })\r\n\r\n    const menuContentClass = computed(() =>\r\n      (props.virtualScrollHorizontal === true ? 'q-virtual-scroll--horizontal' : '')\r\n      + (props.popupContentClass ? ' ' + props.popupContentClass : '')\r\n    )\r\n\r\n    const noOptions = computed(() => virtualScrollLength.value === 0)\r\n\r\n    const selectedString = computed(() =>\r\n      innerValue.value\r\n        .map(opt => getOptionLabel.value(opt))\r\n        .join(', ')\r\n    )\r\n\r\n    const needsHtmlFn = computed(() => (\r\n      props.optionsHtml === true\r\n        ? () => true\r\n        : opt => opt !== void 0 && opt !== null && opt.html === true\r\n    ))\r\n\r\n    const valueAsHtml = computed(() => (\r\n      props.displayValueHtml === true || (\r\n        props.displayValue === void 0 && (\r\n          props.optionsHtml === true\r\n          || innerValue.value.some(needsHtmlFn.value)\r\n        )\r\n      )\r\n    ))\r\n\r\n    const tabindex = computed(() => (state.focused.value === true ? props.tabindex : -1))\r\n\r\n    const comboboxAttrs = computed(() => ({\r\n      tabindex: props.tabindex,\r\n      role: 'combobox',\r\n      'aria-label': props.label,\r\n      'aria-readonly': props.readonly === true ? 'true' : 'false',\r\n      'aria-autocomplete': props.useInput === true ? 'list' : 'none',\r\n      'aria-expanded': menu.value === true ? 'true' : 'false',\r\n      'aria-owns': `${ state.targetUid.value }_lb`,\r\n      'aria-controls': `${ state.targetUid.value }_lb`\r\n    }))\r\n\r\n    const listboxAttrs = computed(() => {\r\n      const attrs = {\r\n        id: `${ state.targetUid.value }_lb`,\r\n        role: 'listbox',\r\n        'aria-multiselectable': props.multiple === true ? 'true' : 'false'\r\n      }\r\n\r\n      if (optionIndex.value >= 0) {\r\n        attrs[ 'aria-activedescendant' ] = `${ state.targetUid.value }_${ optionIndex.value }`\r\n      }\r\n\r\n      return attrs\r\n    })\r\n\r\n    const selectedScope = computed(() => {\r\n      return innerValue.value.map((opt, i) => ({\r\n        index: i,\r\n        opt,\r\n        html: needsHtmlFn.value(opt),\r\n        selected: true,\r\n        removeAtIndex: removeAtIndexAndFocus,\r\n        toggleOption,\r\n        tabindex: tabindex.value\r\n      }))\r\n    })\r\n\r\n    const optionScope = computed(() => {\r\n      if (virtualScrollLength.value === 0) {\r\n        return []\r\n      }\r\n\r\n      const { from, to } = virtualScrollSliceRange.value\r\n\r\n      return props.options.slice(from, to).map((opt, i) => {\r\n        const disable = isOptionDisabled.value(opt) === true\r\n        const index = from + i\r\n\r\n        const itemProps = {\r\n          clickable: true,\r\n          active: false,\r\n          activeClass: computedOptionsSelectedClass.value,\r\n          manualFocus: true,\r\n          focused: false,\r\n          disable,\r\n          tabindex: -1,\r\n          dense: props.optionsDense,\r\n          dark: isOptionsDark.value,\r\n          role: 'option',\r\n          id: `${ state.targetUid.value }_${ index }`,\r\n          onClick: () => { toggleOption(opt) }\r\n        }\r\n\r\n        if (disable !== true) {\r\n          isOptionSelected(opt) === true && (itemProps.active = true)\r\n          optionIndex.value === index && (itemProps.focused = true)\r\n\r\n          itemProps[ 'aria-selected' ] = itemProps.active === true ? 'true' : 'false'\r\n\r\n          if ($q.platform.is.desktop === true) {\r\n            itemProps.onMousemove = () => { menu.value === true && setOptionIndex(index) }\r\n          }\r\n        }\r\n\r\n        return {\r\n          index,\r\n          opt,\r\n          html: needsHtmlFn.value(opt),\r\n          label: getOptionLabel.value(opt),\r\n          selected: itemProps.active,\r\n          focused: itemProps.focused,\r\n          toggleOption,\r\n          setOptionIndex,\r\n          itemProps\r\n        }\r\n      })\r\n    })\r\n\r\n    const dropdownArrowIcon = computed(() => (\r\n      props.dropdownIcon !== void 0\r\n        ? props.dropdownIcon\r\n        : $q.iconSet.arrow.dropdown\r\n    ))\r\n\r\n    const squaredMenu = computed(() =>\r\n      props.optionsCover === false\r\n      && props.outlined !== true\r\n      && props.standout !== true\r\n      && props.borderless !== true\r\n      && props.rounded !== true\r\n    )\r\n\r\n    const computedOptionsSelectedClass = computed(() => (\r\n      props.optionsSelectedClass !== void 0\r\n        ? props.optionsSelectedClass\r\n        : (props.color !== void 0 ? `text-${ props.color }` : '')\r\n    ))\r\n\r\n    // returns method to get value of an option;\r\n    // takes into account 'option-value' prop\r\n    const getOptionValue = computed(() => getPropValueFn(props.optionValue, 'value'))\r\n\r\n    // returns method to get label of an option;\r\n    // takes into account 'option-label' prop\r\n    const getOptionLabel = computed(() => getPropValueFn(props.optionLabel, 'label'))\r\n\r\n    // returns method to tell if an option is disabled;\r\n    // takes into account 'option-disable' prop\r\n    const isOptionDisabled = computed(() => getPropValueFn(props.optionDisable, 'disable'))\r\n\r\n    const innerOptionsValue = computed(() => innerValue.value.map(opt => getOptionValue.value(opt)))\r\n\r\n    const inputControlEvents = computed(() => {\r\n      const evt = {\r\n        onInput,\r\n        // Safari < 10.2 & UIWebView doesn't fire compositionend when\r\n        // switching focus before confirming composition choice\r\n        // this also fixes the issue where some browsers e.g. iOS Chrome\r\n        // fires \"change\" instead of \"input\" on autocomplete.\r\n        onChange: onComposition,\r\n        onKeydown: onTargetKeydown,\r\n        onKeyup: onTargetAutocomplete,\r\n        onKeypress: onTargetKeypress,\r\n        onFocus: selectInputText,\r\n        onClick (e) { hasDialog === true && stop(e) }\r\n      }\r\n\r\n      evt.onCompositionstart = evt.onCompositionupdate = evt.onCompositionend = onComposition\r\n\r\n      return evt\r\n    })\r\n\r\n    watch(innerValue, val => {\r\n      innerValueCache = val\r\n\r\n      if (\r\n        props.useInput === true\r\n        && props.fillInput === true\r\n        && props.multiple !== true\r\n        // Prevent re-entering in filter while filtering\r\n        // Also prevent clearing inputValue while filtering\r\n        && state.innerLoading.value !== true\r\n        && ((dialog.value !== true && menu.value !== true) || hasValue.value !== true)\r\n      ) {\r\n        userInputValue !== true && resetInputValue()\r\n        if (dialog.value === true || menu.value === true) {\r\n          filter('')\r\n        }\r\n      }\r\n    }, { immediate: true })\r\n\r\n    watch(() => props.fillInput, resetInputValue)\r\n\r\n    watch(menu, updateMenu)\r\n\r\n    watch(virtualScrollLength, rerenderMenu)\r\n\r\n    function getEmittingOptionValue (opt) {\r\n      return props.emitValue === true\r\n        ? getOptionValue.value(opt)\r\n        : opt\r\n    }\r\n\r\n    function removeAtIndex (index) {\r\n      if (index > -1 && index < innerValue.value.length) {\r\n        if (props.multiple === true) {\r\n          const model = props.modelValue.slice()\r\n          emit('remove', { index, value: model.splice(index, 1)[ 0 ] })\r\n          emit('update:modelValue', model)\r\n        }\r\n        else {\r\n          emit('update:modelValue', null)\r\n        }\r\n      }\r\n    }\r\n\r\n    function removeAtIndexAndFocus (index) {\r\n      removeAtIndex(index)\r\n      state.focus()\r\n    }\r\n\r\n    function add (opt, unique) {\r\n      const val = getEmittingOptionValue(opt)\r\n\r\n      if (props.multiple !== true) {\r\n        props.fillInput === true && updateInputValue(\r\n          getOptionLabel.value(opt),\r\n          true,\r\n          true\r\n        )\r\n\r\n        emit('update:modelValue', val)\r\n        return\r\n      }\r\n\r\n      if (innerValue.value.length === 0) {\r\n        emit('add', { index: 0, value: val })\r\n        emit('update:modelValue', props.multiple === true ? [ val ] : val)\r\n        return\r\n      }\r\n\r\n      if (unique === true && isOptionSelected(opt) === true) {\r\n        return\r\n      }\r\n\r\n      if (props.maxValues !== void 0 && props.modelValue.length >= props.maxValues) {\r\n        return\r\n      }\r\n\r\n      const model = props.modelValue.slice()\r\n\r\n      emit('add', { index: model.length, value: val })\r\n      model.push(val)\r\n      emit('update:modelValue', model)\r\n    }\r\n\r\n    function toggleOption (opt, keepOpen) {\r\n      if (state.editable.value !== true || opt === void 0 || isOptionDisabled.value(opt) === true) {\r\n        return\r\n      }\r\n\r\n      const optValue = getOptionValue.value(opt)\r\n\r\n      if (props.multiple !== true) {\r\n        if (keepOpen !== true) {\r\n          updateInputValue(\r\n            props.fillInput === true ? getOptionLabel.value(opt) : '',\r\n            true,\r\n            true\r\n          )\r\n\r\n          hidePopup()\r\n        }\r\n\r\n        targetRef.value !== null && targetRef.value.focus()\r\n\r\n        if (\r\n          innerValue.value.length === 0\r\n          || isDeepEqual(getOptionValue.value(innerValue.value[ 0 ]), optValue) !== true\r\n        ) {\r\n          emit('update:modelValue', props.emitValue === true ? optValue : opt)\r\n        }\r\n        return\r\n      }\r\n\r\n      (hasDialog !== true || dialogFieldFocused.value === true) && state.focus()\r\n\r\n      selectInputText()\r\n\r\n      if (innerValue.value.length === 0) {\r\n        const val = props.emitValue === true ? optValue : opt\r\n        emit('add', { index: 0, value: val })\r\n        emit('update:modelValue', props.multiple === true ? [ val ] : val)\r\n        return\r\n      }\r\n\r\n      const\r\n        model = props.modelValue.slice(),\r\n        index = innerOptionsValue.value.findIndex(v => isDeepEqual(v, optValue))\r\n\r\n      if (index > -1) {\r\n        emit('remove', { index, value: model.splice(index, 1)[ 0 ] })\r\n      }\r\n      else {\r\n        if (props.maxValues !== void 0 && model.length >= props.maxValues) {\r\n          return\r\n        }\r\n\r\n        const val = props.emitValue === true ? optValue : opt\r\n\r\n        emit('add', { index: model.length, value: val })\r\n        model.push(val)\r\n      }\r\n\r\n      emit('update:modelValue', model)\r\n    }\r\n\r\n    function setOptionIndex (index) {\r\n      if ($q.platform.is.desktop !== true) { return }\r\n\r\n      const val = index > -1 && index < virtualScrollLength.value\r\n        ? index\r\n        : -1\r\n\r\n      if (optionIndex.value !== val) {\r\n        optionIndex.value = val\r\n      }\r\n    }\r\n\r\n    function moveOptionSelection (offset = 1, skipInputValue) {\r\n      if (menu.value === true) {\r\n        let index = optionIndex.value\r\n        do {\r\n          index = normalizeToInterval(\r\n            index + offset,\r\n            -1,\r\n            virtualScrollLength.value - 1\r\n          )\r\n        }\r\n        while (index !== -1 && index !== optionIndex.value && isOptionDisabled.value(props.options[ index ]) === true)\r\n\r\n        if (optionIndex.value !== index) {\r\n          setOptionIndex(index)\r\n          scrollTo(index)\r\n\r\n          if (skipInputValue !== true && props.useInput === true && props.fillInput === true) {\r\n            setInputValue(index >= 0\r\n              ? getOptionLabel.value(props.options[ index ])\r\n              : defaultInputValue\r\n            )\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    function getOption (value, valueCache) {\r\n      const fn = opt => isDeepEqual(getOptionValue.value(opt), value)\r\n      return props.options.find(fn) || valueCache.find(fn) || value\r\n    }\r\n\r\n    function getPropValueFn (propValue, defaultVal) {\r\n      const val = propValue !== void 0\r\n        ? propValue\r\n        : defaultVal\r\n\r\n      return typeof val === 'function'\r\n        ? val\r\n        : opt => (opt !== null && typeof opt === 'object' && val in opt ? opt[ val ] : opt)\r\n    }\r\n\r\n    function isOptionSelected (opt) {\r\n      const val = getOptionValue.value(opt)\r\n      return innerOptionsValue.value.find(v => isDeepEqual(v, val)) !== void 0\r\n    }\r\n\r\n    function selectInputText (e) {\r\n      if (\r\n        props.useInput === true\r\n        && targetRef.value !== null\r\n        && (e === void 0 || (targetRef.value === e.target && e.target.value === selectedString.value))\r\n      ) {\r\n        targetRef.value.select()\r\n      }\r\n    }\r\n\r\n    function onTargetKeyup (e) {\r\n      // if ESC and we have an opened menu\r\n      // then stop propagation (might be caught by a QDialog\r\n      // and so it will also close the QDialog, which is wrong)\r\n      if (isKeyCode(e, 27) === true && menu.value === true) {\r\n        stop(e)\r\n        // on ESC we need to close the dialog also\r\n        hidePopup()\r\n        resetInputValue()\r\n      }\r\n\r\n      emit('keyup', e)\r\n    }\r\n\r\n    function onTargetAutocomplete (e) {\r\n      const { value } = e.target\r\n\r\n      if (e.keyCode !== void 0) {\r\n        onTargetKeyup(e)\r\n        return\r\n      }\r\n\r\n      e.target.value = ''\r\n      clearTimeout(inputTimer)\r\n      resetInputValue()\r\n\r\n      if (typeof value === 'string' && value.length > 0) {\r\n        const needle = value.toLocaleLowerCase()\r\n        const findFn = extractFn => {\r\n          const option = props.options.find(opt => extractFn.value(opt).toLocaleLowerCase() === needle)\r\n\r\n          if (option === void 0) {\r\n            return false\r\n          }\r\n\r\n          if (innerValue.value.indexOf(option) === -1) {\r\n            toggleOption(option)\r\n          }\r\n          else {\r\n            hidePopup()\r\n          }\r\n\r\n          return true\r\n        }\r\n        const fillFn = afterFilter => {\r\n          if (findFn(getOptionValue) === true) {\r\n            return\r\n          }\r\n          if (findFn(getOptionLabel) === true || afterFilter === true) {\r\n            return\r\n          }\r\n\r\n          filter(value, true, () => fillFn(true))\r\n        }\r\n\r\n        fillFn()\r\n      }\r\n      else {\r\n        state.clearValue(e)\r\n      }\r\n    }\r\n\r\n    function onTargetKeypress (e) {\r\n      emit('keypress', e)\r\n    }\r\n\r\n    function onTargetKeydown (e) {\r\n      emit('keydown', e)\r\n\r\n      if (shouldIgnoreKey(e) === true) {\r\n        return\r\n      }\r\n\r\n      const newValueModeValid = inputValue.value.length > 0\r\n        && (props.newValueMode !== void 0 || props.onNewValue !== void 0)\r\n\r\n      const tabShouldSelect = e.shiftKey !== true\r\n        && props.multiple !== true\r\n        && (optionIndex.value > -1 || newValueModeValid === true)\r\n\r\n      // escape\r\n      if (e.keyCode === 27) {\r\n        prevent(e) // prevent clearing the inputValue\r\n        return\r\n      }\r\n\r\n      // tab\r\n      if (e.keyCode === 9 && tabShouldSelect === false) {\r\n        closeMenu()\r\n        return\r\n      }\r\n\r\n      if (e.target === void 0 || e.target.id !== state.targetUid.value) { return }\r\n\r\n      // down\r\n      if (\r\n        e.keyCode === 40\r\n        && state.innerLoading.value !== true\r\n        && menu.value === false\r\n      ) {\r\n        stopAndPrevent(e)\r\n        showPopup()\r\n        return\r\n      }\r\n\r\n      // backspace\r\n      if (\r\n        e.keyCode === 8\r\n        && props.hideSelected !== true\r\n        && inputValue.value.length === 0\r\n      ) {\r\n        if (props.multiple === true && Array.isArray(props.modelValue) === true) {\r\n          removeAtIndex(props.modelValue.length - 1)\r\n        }\r\n        else if (props.multiple !== true && props.modelValue !== null) {\r\n          emit('update:modelValue', null)\r\n        }\r\n        return\r\n      }\r\n\r\n      // home, end - 36, 35\r\n      if (\r\n        (e.keyCode === 35 || e.keyCode === 36)\r\n        && (typeof inputValue.value !== 'string' || inputValue.value.length === 0)\r\n      ) {\r\n        stopAndPrevent(e)\r\n        optionIndex.value = -1\r\n        moveOptionSelection(e.keyCode === 36 ? 1 : -1, props.multiple)\r\n      }\r\n\r\n      // pg up, pg down - 33, 34\r\n      if (\r\n        (e.keyCode === 33 || e.keyCode === 34)\r\n        && virtualScrollSliceSizeComputed.value !== void 0\r\n      ) {\r\n        stopAndPrevent(e)\r\n        optionIndex.value = Math.max(\r\n          -1,\r\n          Math.min(\r\n            virtualScrollLength.value,\r\n            optionIndex.value + (e.keyCode === 33 ? -1 : 1) * virtualScrollSliceSizeComputed.value.view\r\n          )\r\n        )\r\n        moveOptionSelection(e.keyCode === 33 ? 1 : -1, props.multiple)\r\n      }\r\n\r\n      // up, down\r\n      if (e.keyCode === 38 || e.keyCode === 40) {\r\n        stopAndPrevent(e)\r\n        moveOptionSelection(e.keyCode === 38 ? -1 : 1, props.multiple)\r\n      }\r\n\r\n      const optionsLength = virtualScrollLength.value\r\n\r\n      // clear search buffer if expired\r\n      if (searchBuffer === void 0 || searchBufferExp < Date.now()) {\r\n        searchBuffer = ''\r\n      }\r\n\r\n      // keyboard search when not having use-input\r\n      if (\r\n        optionsLength > 0\r\n        && props.useInput !== true\r\n        && e.key !== void 0\r\n        && e.key.length === 1 // printable char\r\n        && e.altKey === e.ctrlKey // not kbd shortcut\r\n        && (e.keyCode !== 32 || searchBuffer.length > 0) // space in middle of search\r\n      ) {\r\n        menu.value !== true && showPopup(e)\r\n\r\n        const\r\n          char = e.key.toLocaleLowerCase(),\r\n          keyRepeat = searchBuffer.length === 1 && searchBuffer[ 0 ] === char\r\n\r\n        searchBufferExp = Date.now() + 1500\r\n        if (keyRepeat === false) {\r\n          stopAndPrevent(e)\r\n          searchBuffer += char\r\n        }\r\n\r\n        const searchRe = new RegExp('^' + searchBuffer.split('').map(l => (reEscapeList.indexOf(l) > -1 ? '\\\\' + l : l)).join('.*'), 'i')\r\n\r\n        let index = optionIndex.value\r\n\r\n        if (keyRepeat === true || index < 0 || searchRe.test(getOptionLabel.value(props.options[ index ])) !== true) {\r\n          do {\r\n            index = normalizeToInterval(index + 1, -1, optionsLength - 1)\r\n          }\r\n          while (index !== optionIndex.value && (\r\n            isOptionDisabled.value(props.options[ index ]) === true\r\n            || searchRe.test(getOptionLabel.value(props.options[ index ])) !== true\r\n          ))\r\n        }\r\n\r\n        if (optionIndex.value !== index) {\r\n          nextTick(() => {\r\n            setOptionIndex(index)\r\n            scrollTo(index)\r\n\r\n            if (index >= 0 && props.useInput === true && props.fillInput === true) {\r\n              setInputValue(getOptionLabel.value(props.options[ index ]))\r\n            }\r\n          })\r\n        }\r\n\r\n        return\r\n      }\r\n\r\n      // enter, space (when not using use-input and not in search), or tab (when not using multiple and option selected)\r\n      // same target is checked above\r\n      if (\r\n        e.keyCode !== 13\r\n        && (e.keyCode !== 32 || props.useInput === true || searchBuffer !== '')\r\n        && (e.keyCode !== 9 || tabShouldSelect === false)\r\n      ) { return }\r\n\r\n      e.keyCode !== 9 && stopAndPrevent(e)\r\n\r\n      if (optionIndex.value > -1 && optionIndex.value < optionsLength) {\r\n        toggleOption(props.options[ optionIndex.value ])\r\n        return\r\n      }\r\n\r\n      if (newValueModeValid === true) {\r\n        const done = (val, mode) => {\r\n          if (mode) {\r\n            if (validateNewValueMode(mode) !== true) {\r\n              return\r\n            }\r\n          }\r\n          else {\r\n            mode = props.newValueMode\r\n          }\r\n\r\n          if (val === void 0 || val === null) {\r\n            return\r\n          }\r\n\r\n          updateInputValue('', props.multiple !== true, true)\r\n\r\n          const fn = mode === 'toggle' ? toggleOption : add\r\n          fn(val, mode === 'add-unique')\r\n\r\n          if (props.multiple !== true) {\r\n            targetRef.value !== null && targetRef.value.focus()\r\n            hidePopup()\r\n          }\r\n        }\r\n\r\n        if (props.onNewValue !== void 0) {\r\n          emit('newValue', inputValue.value, done)\r\n        }\r\n        else {\r\n          done(inputValue.value)\r\n        }\r\n\r\n        if (props.multiple !== true) {\r\n          return\r\n        }\r\n      }\r\n\r\n      if (menu.value === true) {\r\n        closeMenu()\r\n      }\r\n      else if (state.innerLoading.value !== true) {\r\n        showPopup()\r\n      }\r\n    }\r\n\r\n    function getVirtualScrollEl () {\r\n      return hasDialog === true\r\n        ? menuContentRef.value\r\n        : (\r\n            menuRef.value !== null && menuRef.value.contentEl !== null\r\n              ? menuRef.value.contentEl\r\n              : void 0\r\n          )\r\n    }\r\n\r\n    function getVirtualScrollTarget () {\r\n      return getVirtualScrollEl()\r\n    }\r\n\r\n    function getSelection () {\r\n      if (props.hideSelected === true) {\r\n        return []\r\n      }\r\n\r\n      if (slots[ 'selected-item' ] !== void 0) {\r\n        return selectedScope.value.map(scope => slots[ 'selected-item' ](scope)).slice()\r\n      }\r\n\r\n      if (slots.selected !== void 0) {\r\n        return [].concat(slots.selected())\r\n      }\r\n\r\n      if (props.useChips === true) {\r\n        return selectedScope.value.map((scope, i) => h(QChip, {\r\n          key: 'option-' + i,\r\n          removable: state.editable.value === true && isOptionDisabled.value(scope.opt) !== true,\r\n          dense: true,\r\n          textColor: props.color,\r\n          tabindex: tabindex.value,\r\n          onRemove () { scope.removeAtIndex(i) }\r\n        }, () => h('span', {\r\n          class: 'ellipsis',\r\n          [ scope.html === true ? 'innerHTML' : 'textContent' ]: getOptionLabel.value(scope.opt)\r\n        })))\r\n      }\r\n\r\n      return [\r\n        h('span', {\r\n          [ valueAsHtml.value === true ? 'innerHTML' : 'textContent' ]: props.displayValue !== void 0\r\n            ? props.displayValue\r\n            : selectedString.value\r\n        })\r\n      ]\r\n    }\r\n\r\n    function getAllOptions () {\r\n      if (noOptions.value === true) {\r\n        return slots[ 'no-option' ] !== void 0\r\n          ? slots[ 'no-option' ]({ inputValue: inputValue.value })\r\n          : void 0\r\n      }\r\n\r\n      const fn = slots.option !== void 0\r\n        ? slots.option\r\n        : scope => {\r\n          return h(QItem, {\r\n            key: scope.index,\r\n            ...scope.itemProps\r\n          }, () => {\r\n            return h(\r\n              QItemSection,\r\n              () => h(\r\n                QItemLabel,\r\n                () => h('span', {\r\n                  [ scope.html === true ? 'innerHTML' : 'textContent' ]: scope.label\r\n                })\r\n              )\r\n            )\r\n          })\r\n        }\r\n\r\n      let options = padVirtualScroll('div', optionScope.value.map(fn))\r\n\r\n      if (slots[ 'before-options' ] !== void 0) {\r\n        options = slots[ 'before-options' ]().concat(options)\r\n      }\r\n\r\n      return hMergeSlot(slots[ 'after-options' ], options)\r\n    }\r\n\r\n    function getInput (fromDialog, isTarget) {\r\n      const attrs = isTarget === true ? { ...comboboxAttrs.value, ...state.splitAttrs.attributes.value } : void 0\r\n\r\n      const data = {\r\n        ref: isTarget === true ? targetRef : void 0,\r\n        key: 'i_t',\r\n        class: computedInputClass.value,\r\n        style: props.inputStyle,\r\n        value: inputValue.value !== void 0 ? inputValue.value : '',\r\n        // required for Android in order to show ENTER key when in form\r\n        type: 'search',\r\n        ...attrs,\r\n        id: isTarget === true ? state.targetUid.value : void 0,\r\n        maxlength: props.maxlength,\r\n        autocomplete: props.autocomplete,\r\n        'data-autofocus': (fromDialog !== true && props.autofocus === true) || void 0,\r\n        disabled: props.disable === true,\r\n        readonly: props.readonly === true,\r\n        ...inputControlEvents.value\r\n      }\r\n\r\n      if (fromDialog !== true && hasDialog === true) {\r\n        if (Array.isArray(data.class) === true) {\r\n          data.class = [ ...data.class, 'no-pointer-events' ]\r\n        }\r\n        else {\r\n          data.class += ' no-pointer-events'\r\n        }\r\n      }\r\n\r\n      return h('input', data)\r\n    }\r\n\r\n    function onInput (e) {\r\n      clearTimeout(inputTimer)\r\n\r\n      if (e && e.target && e.target.qComposing === true) {\r\n        return\r\n      }\r\n\r\n      setInputValue(e.target.value || '')\r\n      // mark it here as user input so that if updateInputValue is called\r\n      // before filter is called the indicator is reset\r\n      userInputValue = true\r\n      defaultInputValue = inputValue.value\r\n\r\n      if (\r\n        state.focused.value !== true\r\n        && (hasDialog !== true || dialogFieldFocused.value === true)\r\n      ) {\r\n        state.focus()\r\n      }\r\n\r\n      if (props.onFilter !== void 0) {\r\n        inputTimer = setTimeout(() => {\r\n          filter(inputValue.value)\r\n        }, props.inputDebounce)\r\n      }\r\n    }\r\n\r\n    function setInputValue (val) {\r\n      if (inputValue.value !== val) {\r\n        inputValue.value = val\r\n        emit('inputValue', val)\r\n      }\r\n    }\r\n\r\n    function updateInputValue (val, noFiltering, internal) {\r\n      userInputValue = internal !== true\r\n\r\n      if (props.useInput === true) {\r\n        setInputValue(val)\r\n\r\n        if (noFiltering === true || internal !== true) {\r\n          defaultInputValue = val\r\n        }\r\n\r\n        noFiltering !== true && filter(val)\r\n      }\r\n    }\r\n\r\n    function filter (val, keepClosed, afterUpdateFn) {\r\n      if (props.onFilter === void 0 || (keepClosed !== true && state.focused.value !== true)) {\r\n        return\r\n      }\r\n\r\n      if (state.innerLoading.value === true) {\r\n        emit('filterAbort')\r\n      }\r\n      else {\r\n        state.innerLoading.value = true\r\n        innerLoadingIndicator.value = true\r\n      }\r\n\r\n      if (\r\n        val !== ''\r\n        && props.multiple !== true\r\n        && innerValue.value.length > 0\r\n        && userInputValue !== true\r\n        && val === getOptionLabel.value(innerValue.value[ 0 ])\r\n      ) {\r\n        val = ''\r\n      }\r\n\r\n      const localFilterId = setTimeout(() => {\r\n        menu.value === true && (menu.value = false)\r\n      }, 10)\r\n\r\n      clearTimeout(filterId)\r\n      filterId = localFilterId\r\n\r\n      emit(\r\n        'filter',\r\n        val,\r\n        (fn, afterFn) => {\r\n          if ((keepClosed === true || state.focused.value === true) && filterId === localFilterId) {\r\n            clearTimeout(filterId)\r\n\r\n            typeof fn === 'function' && fn()\r\n\r\n            // hide indicator to allow arrow to animate\r\n            innerLoadingIndicator.value = false\r\n\r\n            nextTick(() => {\r\n              state.innerLoading.value = false\r\n\r\n              if (state.editable.value === true) {\r\n                if (keepClosed === true) {\r\n                  menu.value === true && hidePopup()\r\n                }\r\n                else if (menu.value === true) {\r\n                  updateMenu(true)\r\n                }\r\n                else {\r\n                  menu.value = true\r\n                }\r\n              }\r\n\r\n              typeof afterFn === 'function' && nextTick(() => { afterFn(proxy) })\r\n              typeof afterUpdateFn === 'function' && nextTick(() => { afterUpdateFn(proxy) })\r\n            })\r\n          }\r\n        },\r\n        () => {\r\n          if (state.focused.value === true && filterId === localFilterId) {\r\n            clearTimeout(filterId)\r\n            state.innerLoading.value = false\r\n            innerLoadingIndicator.value = false\r\n          }\r\n          menu.value === true && (menu.value = false)\r\n        }\r\n      )\r\n    }\r\n\r\n    function getMenu () {\r\n      return h(QMenu, {\r\n        ref: menuRef,\r\n        class: menuContentClass.value,\r\n        style: props.popupContentStyle,\r\n        modelValue: menu.value,\r\n        fit: props.menuShrink !== true,\r\n        cover: props.optionsCover === true && noOptions.value !== true && props.useInput !== true,\r\n        anchor: props.menuAnchor,\r\n        self: props.menuSelf,\r\n        offset: props.menuOffset,\r\n        dark: isOptionsDark.value,\r\n        noParentEvent: true,\r\n        noRefocus: true,\r\n        noFocus: true,\r\n        square: squaredMenu.value,\r\n        transitionShow: props.transitionShow,\r\n        transitionHide: props.transitionHide,\r\n        transitionDuration: props.transitionDuration,\r\n        separateClosePopup: true,\r\n        ...listboxAttrs.value,\r\n        onScrollPassive: onVirtualScrollEvt,\r\n        onBeforeShow: onControlPopupShow,\r\n        onBeforeHide: onMenuBeforeHide,\r\n        onShow: onMenuShow\r\n      }, getAllOptions)\r\n    }\r\n\r\n    function onMenuBeforeHide (e) {\r\n      onControlPopupHide(e)\r\n      closeMenu()\r\n    }\r\n\r\n    function onMenuShow () {\r\n      setVirtualScrollSize()\r\n    }\r\n\r\n    function onDialogFieldFocus (e) {\r\n      stop(e)\r\n      targetRef.value !== null && targetRef.value.focus()\r\n      dialogFieldFocused.value = true\r\n      window.scrollTo(window.pageXOffset || window.scrollX || document.body.scrollLeft || 0, 0)\r\n    }\r\n\r\n    function onDialogFieldBlur (e) {\r\n      stop(e)\r\n      nextTick(() => {\r\n        dialogFieldFocused.value = false\r\n      })\r\n    }\r\n\r\n    function getDialog () {\r\n      const content = [\r\n        h(QField, {\r\n          class: `col-auto ${ state.fieldClass.value }`,\r\n          ...innerFieldProps.value,\r\n          for: state.targetUid.value,\r\n          dark: isOptionsDark.value,\r\n          square: true,\r\n          loading: innerLoadingIndicator.value,\r\n          itemAligned: false,\r\n          filled: true,\r\n          stackLabel: inputValue.value.length > 0,\r\n          ...state.splitAttrs.listeners.value,\r\n          onFocus: onDialogFieldFocus,\r\n          onBlur: onDialogFieldBlur\r\n        }, {\r\n          ...slots,\r\n          rawControl: () => state.getControl(true),\r\n          before: void 0,\r\n          after: void 0\r\n        })\r\n      ]\r\n\r\n      menu.value === true && content.push(\r\n        h('div', {\r\n          ref: menuContentRef,\r\n          class: menuContentClass.value + ' scroll',\r\n          style: props.popupContentStyle,\r\n          ...listboxAttrs.value,\r\n          onClick: prevent,\r\n          onScrollPassive: onVirtualScrollEvt\r\n        }, getAllOptions())\r\n      )\r\n\r\n      return h(QDialog, {\r\n        ref: dialogRef,\r\n        modelValue: dialog.value,\r\n        position: props.useInput === true ? 'top' : void 0,\r\n        transitionShow: transitionShowComputed,\r\n        transitionHide: props.transitionHide,\r\n        transitionDuration: props.transitionDuration,\r\n        onBeforeShow: onControlPopupShow,\r\n        onBeforeHide: onDialogBeforeHide,\r\n        onHide: onDialogHide,\r\n        onShow: onDialogShow\r\n      }, () => h('div', {\r\n        class: 'q-select__dialog'\r\n          + (isOptionsDark.value === true ? ' q-select__dialog--dark q-dark' : '')\r\n          + (dialogFieldFocused.value === true ? ' q-select__dialog--focused' : '')\r\n      }, content))\r\n    }\r\n\r\n    function onDialogBeforeHide (e) {\r\n      onControlPopupHide(e)\r\n\r\n      if (dialogRef.value !== null) {\r\n        dialogRef.value.__updateRefocusTarget(\r\n          state.rootRef.value.querySelector('.q-field__native > [tabindex]:last-child')\r\n        )\r\n      }\r\n\r\n      state.focused.value = false\r\n    }\r\n\r\n    function onDialogHide (e) {\r\n      hidePopup()\r\n      state.focused.value === false && emit('blur', e)\r\n      resetInputValue()\r\n    }\r\n\r\n    function onDialogShow () {\r\n      const el = document.activeElement\r\n      if (\r\n        (el === null || el.id !== state.targetUid.value)\r\n        && targetRef.value !== null\r\n        && targetRef.value !== el\r\n      ) {\r\n        targetRef.value.focus()\r\n      }\r\n\r\n      setVirtualScrollSize()\r\n    }\r\n\r\n    function closeMenu () {\r\n      if (dialog.value === true) {\r\n        return\r\n      }\r\n\r\n      optionIndex.value = -1\r\n\r\n      if (menu.value === true) {\r\n        menu.value = false\r\n      }\r\n\r\n      if (state.focused.value === false) {\r\n        clearTimeout(filterId)\r\n        filterId = void 0\r\n\r\n        if (state.innerLoading.value === true) {\r\n          emit('filterAbort')\r\n          state.innerLoading.value = false\r\n          innerLoadingIndicator.value = false\r\n        }\r\n      }\r\n    }\r\n\r\n    function showPopup (e) {\r\n      if (state.editable.value !== true) {\r\n        return\r\n      }\r\n\r\n      if (hasDialog === true) {\r\n        state.onControlFocusin(e)\r\n        dialog.value = true\r\n        nextTick(() => {\r\n          state.focus()\r\n        })\r\n      }\r\n      else {\r\n        state.focus()\r\n      }\r\n\r\n      if (props.onFilter !== void 0) {\r\n        filter(inputValue.value)\r\n      }\r\n      else if (noOptions.value !== true || slots[ 'no-option' ] !== void 0) {\r\n        menu.value = true\r\n      }\r\n    }\r\n\r\n    function hidePopup () {\r\n      dialog.value = false\r\n      closeMenu()\r\n    }\r\n\r\n    function resetInputValue () {\r\n      props.useInput === true && updateInputValue(\r\n        props.multiple !== true && props.fillInput === true && innerValue.value.length > 0\r\n          ? getOptionLabel.value(innerValue.value[ 0 ]) || ''\r\n          : '',\r\n        true,\r\n        true\r\n      )\r\n    }\r\n\r\n    function updateMenu (show) {\r\n      let optionIndex = -1\r\n\r\n      if (show === true) {\r\n        if (innerValue.value.length > 0) {\r\n          const val = getOptionValue.value(innerValue.value[ 0 ])\r\n          optionIndex = props.options.findIndex(v => isDeepEqual(getOptionValue.value(v), val))\r\n        }\r\n\r\n        localResetVirtualScroll(optionIndex)\r\n      }\r\n\r\n      setOptionIndex(optionIndex)\r\n    }\r\n\r\n    function rerenderMenu (newLength, oldLength) {\r\n      if (menu.value === true && state.innerLoading.value === false) {\r\n        localResetVirtualScroll(-1, true)\r\n\r\n        nextTick(() => {\r\n          if (menu.value === true && state.innerLoading.value === false) {\r\n            if (newLength > oldLength) {\r\n              localResetVirtualScroll()\r\n            }\r\n            else {\r\n              updateMenu(true)\r\n            }\r\n          }\r\n        })\r\n      }\r\n    }\r\n\r\n    function updateMenuPosition () {\r\n      if (dialog.value === false && menuRef.value !== null) {\r\n        menuRef.value.updatePosition()\r\n      }\r\n    }\r\n\r\n    function onControlPopupShow (e) {\r\n      e !== void 0 && stop(e)\r\n      emit('popupShow', e)\r\n      state.hasPopupOpen = true\r\n      state.onControlFocusin(e)\r\n    }\r\n\r\n    function onControlPopupHide (e) {\r\n      e !== void 0 && stop(e)\r\n      emit('popupHide', e)\r\n      state.hasPopupOpen = false\r\n      state.onControlFocusout(e)\r\n    }\r\n\r\n    function updatePreState () {\r\n      hasDialog = $q.platform.is.mobile !== true && props.behavior !== 'dialog'\r\n        ? false\r\n        : props.behavior !== 'menu' && (\r\n          props.useInput === true\r\n            ? slots[ 'no-option' ] !== void 0 || props.onFilter !== void 0 || noOptions.value === false\r\n            : true\r\n        )\r\n\r\n      transitionShowComputed = $q.platform.is.ios === true && hasDialog === true && props.useInput === true\r\n        ? 'fade'\r\n        : props.transitionShow\r\n    }\r\n\r\n    onBeforeUpdate(updatePreState)\r\n    onUpdated(updateMenuPosition)\r\n\r\n    updatePreState()\r\n\r\n    onBeforeUnmount(() => {\r\n      clearTimeout(inputTimer)\r\n    })\r\n\r\n    // expose public methods\r\n    Object.assign(proxy, {\r\n      showPopup, hidePopup,\r\n      removeAtIndex, add, toggleOption,\r\n      getOptionIndex: () => optionIndex.value,\r\n      setOptionIndex, moveOptionSelection,\r\n      filter, updateMenuPosition, updateInputValue,\r\n      isOptionSelected,\r\n      getEmittingOptionValue,\r\n      isOptionDisabled: (...args) => isOptionDisabled.value.apply(null, args) === true,\r\n      getOptionValue: (...args) => getOptionValue.value.apply(null, args),\r\n      getOptionLabel: (...args) => getOptionLabel.value.apply(null, args)\r\n    })\r\n\r\n    Object.assign(state, {\r\n      innerValue,\r\n\r\n      fieldClass: computed(() =>\r\n        `q-select q-field--auto-height q-select--with${ props.useInput !== true ? 'out' : '' }-input`\r\n        + ` q-select--with${ props.useChips !== true ? 'out' : '' }-chips`\r\n        + ` q-select--${ props.multiple === true ? 'multiple' : 'single' }`\r\n      ),\r\n\r\n      inputRef,\r\n      targetRef,\r\n      hasValue,\r\n      showPopup,\r\n\r\n      floatingLabel: computed(() =>\r\n        (props.hideSelected !== true && hasValue.value === true)\r\n        || typeof inputValue.value === 'number'\r\n        || inputValue.value.length > 0\r\n        || fieldValueIsFilled(props.displayValue)\r\n      ),\r\n\r\n      getControlChild: () => {\r\n        if (\r\n          state.editable.value !== false && (\r\n            dialog.value === true // dialog always has menu displayed, so need to render it\r\n            || noOptions.value !== true\r\n            || slots[ 'no-option' ] !== void 0\r\n          )\r\n        ) {\r\n          return hasDialog === true ? getDialog() : getMenu()\r\n        }\r\n        else if (state.hasPopupOpen === true) {\r\n          // explicitly set it otherwise TAB will not blur component\r\n          state.hasPopupOpen = false\r\n        }\r\n      },\r\n\r\n      controlEvents: {\r\n        onFocusin (e) { state.onControlFocusin(e) },\r\n        onFocusout (e) {\r\n          state.onControlFocusout(e, () => {\r\n            resetInputValue()\r\n            closeMenu()\r\n          })\r\n        },\r\n        onClick (e) {\r\n          // label from QField will propagate click on the input\r\n          prevent(e)\r\n\r\n          if (hasDialog !== true && menu.value === true) {\r\n            closeMenu()\r\n            targetRef.value !== null && targetRef.value.focus()\r\n            return\r\n          }\r\n\r\n          showPopup(e)\r\n        }\r\n      },\r\n\r\n      getControl: fromDialog => {\r\n        const child = getSelection()\r\n        const isTarget = fromDialog === true || dialog.value !== true || hasDialog !== true\r\n\r\n        if (props.useInput === true) {\r\n          child.push(getInput(fromDialog, isTarget))\r\n        }\r\n        // there can be only one (when dialog is opened the control in dialog should be target)\r\n        else if (state.editable.value === true) {\r\n          const attrs = isTarget === true ? comboboxAttrs.value : void 0\r\n\r\n          child.push(\r\n            h('input', {\r\n              ref: isTarget === true ? targetRef : void 0,\r\n              key: 'd_t',\r\n              class: 'q-select__focus-target',\r\n              id: isTarget === true ? state.targetUid.value : void 0,\r\n              readonly: true,\r\n              'data-autofocus': (fromDialog !== true && props.autofocus === true) || void 0,\r\n              ...attrs,\r\n              onKeydown: onTargetKeydown,\r\n              onKeyup: onTargetKeyup,\r\n              onKeypress: onTargetKeypress\r\n            })\r\n          )\r\n\r\n          if (isTarget === true && typeof props.autocomplete === 'string' && props.autocomplete.length > 0) {\r\n            child.push(\r\n              h('input', {\r\n                class: 'q-select__autocomplete-input',\r\n                autocomplete: props.autocomplete,\r\n                tabindex: -1,\r\n                onKeyup: onTargetAutocomplete\r\n              })\r\n            )\r\n          }\r\n        }\r\n\r\n        if (nameProp.value !== void 0 && props.disable !== true && innerOptionsValue.value.length > 0) {\r\n          const opts = innerOptionsValue.value.map(value => h('option', { value, selected: true }))\r\n\r\n          child.push(\r\n            h('select', {\r\n              class: 'hidden',\r\n              name: nameProp.value,\r\n              multiple: props.multiple\r\n            }, opts)\r\n          )\r\n        }\r\n\r\n        const attrs = props.useInput === true || isTarget !== true ? void 0 : state.splitAttrs.attributes.value\r\n\r\n        return h('div', {\r\n          class: 'q-field__native row items-center',\r\n          ...attrs\r\n        }, child)\r\n      },\r\n\r\n      getInnerAppend: () => (\r\n        props.loading !== true && innerLoadingIndicator.value !== true && props.hideDropdownIcon !== true\r\n          ? [\r\n              h(QIcon, {\r\n                class: 'q-select__dropdown-icon' + (menu.value === true ? ' rotate-180' : ''),\r\n                name: dropdownArrowIcon.value\r\n              })\r\n            ]\r\n          : null\r\n      )\r\n    })\r\n\r\n    return useField(state)\r\n  }\r\n})\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}